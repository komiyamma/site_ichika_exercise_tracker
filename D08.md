### ğŸ“¥ ç¬¬8ç« ï¼šãƒ•ã‚©ãƒ¼ãƒ æ“ä½œã¨ãƒ‡ãƒ¼ã‚¿ä¿å­˜ï¼ˆæ€è€ƒã®è»Œè·¡ç·¨ï¼‰

---

## ğŸŒŸ 8.1 ä¿å­˜ã—ãŸã„æƒ…å ±ã‚’æ•´ç†ã™ã‚‹

ç¬¬7ç« ã¾ã§ã§ã€1ä»¶åˆ†ã®é‹å‹•è¨˜éŒ²ã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¾ã¨ã‚ã‚‹ã¨ã“ã‚ã¾ã§ã¯æ•´ã„ã¾ã—ãŸã€‚  
ã“ã“ã‹ã‚‰ã¯ã€Œãƒ•ã‚©ãƒ¼ãƒ  â†’ JavaScript â†’ `localStorage`ã€ã¨ã„ã†æµã‚Œã‚’å®Œæˆã•ã›ã¾ã™ã€‚

### åˆå¿ƒè€…ã®æ‚©ã¿

- ã€Œãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›ã—ãŸå€¤ã‚’ã©ã†ã‚„ã£ã¦ JavaScript ã«æ¸¡ã›ã°ã„ã„ã®ï¼Ÿã€
- ã€Œä¿å­˜ã§ããŸã‹ã©ã†ã‹ã‚’ç¢ºã‹ã‚ã‚‹æ–¹æ³•ã¯ï¼Ÿã€

### åˆ¶ä½œè€…ã®æ€è€ƒã®è»Œè·¡

1. ãƒ•ã‚©ãƒ¼ãƒ ã®å„å…¥åŠ›æ¬„ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚„ã™ã„ã‚ˆã†ã€è¦ç´ ã®å‚ç…§ã‚’ã¾ã¨ã‚ã¦ãŠãã€‚
2. é€ä¿¡ã‚¤ãƒ™ãƒ³ãƒˆã‚’ JavaScript å´ã§å—ã‘å–ã‚Šã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆé€ä¿¡ã‚’æ­¢ã‚ã‚‹ã€‚
3. 1ä»¶åˆ†ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåŒ–ã—ã¦é…åˆ—ã«è¿½è¨˜ã—ã€`localStorage` ã¸æ›¸ãæˆ»ã™ã€‚
4. ã¾ãšã¯ `console.log` ã§ä¿å­˜ã§ããŸã“ã¨ã‚’ç›®è¦–ç¢ºèªã™ã‚‹ã€‚

---

## ğŸ§° 8.2 æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿å‡ºã™ãŠã•ã‚‰ã„

ä¿å­˜ã®åœŸå°ã¨ãªã‚‹ `loadEntriesFromStorage()` ã¯ç¬¬7ç« ã§ã‚‚ç™»å ´ã—ã¾ã—ãŸã€‚  
ä¿å­˜æ¸ˆã¿ã®é…åˆ—ã‚’å¸¸ã«å–å¾—ã—ã€è¦‹ã¤ã‹ã‚‰ãªã‘ã‚Œã°ç©ºé…åˆ—ã‚’è¿”ã™å½¢ã«ã—ã¦ãŠãã¨æ‰±ã„ã‚„ã™ããªã‚Šã¾ã™ã€‚

```javascript
function loadEntriesFromStorage() {
    const rawData = localStorage.getItem(WORKOUT_STORAGE_KEY);
    return rawData ? JSON.parse(rawData) : [];
}
```

> `WORKOUT_STORAGE_KEY` ã¯ `'ichikaWorkoutLogEntries'` ã¨ã„ã†æ–‡å­—åˆ—ã‚’ã¾ã¨ã‚ãŸå®šæ•°ã§ã™ã€‚å¾Œã‹ã‚‰ã‚­ãƒ¼åã‚’å¤‰ãˆãŸããªã£ã¦ã‚‚ä¸€ã‹æ‰€ã®ä¿®æ­£ã§æ¸ˆã¿ã¾ã™ã€‚

---

## ğŸŒ¸ 8.3 ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã§ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹

### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚ˆãä½¿ã†è¦ç´ ã‚’ã¾ã¨ã‚ã‚‹

```javascript
let entryFormElement;
let dateInputElement;
let typeInputElement;
let minutesInputElement;
let valueInputElement;
let noteInputElement;

function assignElementReferences() {
    entryFormElement = document.getElementById('entry-form');
    dateInputElement = document.getElementById('date');
    typeInputElement = document.getElementById('type');
    minutesInputElement = document.getElementById('minutes');
    valueInputElement = document.getElementById('value');
    noteInputElement = document.getElementById('note');
}
```

> ã“ã‚Œã§ã©ã®é–¢æ•°ã‹ã‚‰ã§ã‚‚åŒã˜å…¥åŠ›æ¬„ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

### ã‚¹ãƒ†ãƒƒãƒ—2: é€ä¿¡ã‚¤ãƒ™ãƒ³ãƒˆã‚’ JavaScript å´ã§å—ã‘å–ã‚‹

```javascript
function attachEventListeners() {
    entryFormElement.addEventListener('submit', handleFormSubmit);
}
```

`handleFormSubmit` ã¯ã“ã®å¾Œå®Ÿè£…ã—ã¾ã™ã€‚HTML ã« `onsubmit="..."` ã¨æ›¸ãã®ã§ã¯ãªãã€JavaScript ã‹ã‚‰ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä»˜ä¸ã™ã‚‹ã¨å‡¦ç†ã®æµã‚Œã‚’ä¸€ã‹æ‰€ã§æŠŠæ¡ã§ãã¾ã™ã€‚

### ã‚¹ãƒ†ãƒƒãƒ—3: 1ä»¶åˆ†ã‚’å–å¾—ã—ã¦ä¿å­˜ã™ã‚‹

```javascript
function handleFormSubmit(event) {
    event.preventDefault(); // ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆé€ä¿¡ã‚’æ­¢ã‚ã‚‹

    const entry = getFormData();
    const entries = loadEntriesFromStorage();
    entries.push(entry);
    saveEntriesToStorage(entries);

    entryFormElement.reset();
    console.log('ä¿å­˜æ¸ˆã¿ã‚¨ãƒ³ãƒˆãƒª:', entries);
}
```

ãƒã‚¤ãƒ³ãƒˆã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚

- `event.preventDefault()` ã§ãƒšãƒ¼ã‚¸é·ç§»ãªã©ã®åˆæœŸå‹•ä½œã‚’æ­¢ã‚ã‚‹ã€‚
- `getFormData()`ï¼ˆç¬¬7ç« ã§å®Ÿè£…ï¼‰ã§ãƒ•ã‚©ãƒ¼ãƒ ã®å€¤ã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã™ã‚‹ã€‚
- `loadEntriesFromStorage()` ã§æ—¢å­˜é…åˆ—ã‚’å–ã‚Šå‡ºã—ã€æ–°ã—ã„ã‚¨ãƒ³ãƒˆãƒªã‚’ `push`ã€‚
- `saveEntriesToStorage(entries)` ã§é…åˆ—ã”ã¨ JSON åŒ–ã—ã¦ä¿å­˜ã€‚
- ãƒ•ã‚©ãƒ¼ãƒ ã‚’ `reset()` ã—ã¦æ¬¡ã®å…¥åŠ›ã«å‚™ãˆã¤ã¤ã€é…åˆ—å…¨ä½“ã‚’ `console.log` ã§ç¢ºèªã€‚

> `console.log` ã¯å¾Œã§å¤–ã—ã¦æ§‹ã„ã¾ã›ã‚“ãŒã€é–‹ç™ºä¸­ã¯éå¸¸ã«é ¼ã‚‚ã—ã„ç›¸æ£’ã§ã™ã€‚

---

## ğŸ§ª 8.4 ä¿å­˜ã§ããŸã‹ã‚’ç¢ºèªã™ã‚‹

1. ãƒ•ã‚©ãƒ¼ãƒ ã«å€¤ã‚’å…¥ã‚Œã¦é€ä¿¡ã™ã‚‹ã€‚
2. ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ« â†’ Console ã§ `loadEntriesFromStorage()` ã‚’å®Ÿè¡Œã€‚
3. å…ˆã»ã©å…¥åŠ›ã—ãŸãƒ‡ãƒ¼ã‚¿ãŒé…åˆ—ã®æœ«å°¾ã«è¿½åŠ ã•ã‚Œã¦ã„ã‚Œã°æˆåŠŸã€‚
4. ã•ã‚‰ã« Applicationï¼ˆã¾ãŸã¯ Storageï¼‰ã‚¿ãƒ–ã§ã‚­ãƒ¼ `ichikaWorkoutLogEntries` ã®ä¸­èº«ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€ä¿å­˜å†…å®¹ã‚’ç›´æ¥ç¢ºèªã§ãã¾ã™ã€‚

> ã†ã¾ãã„ã‹ãªã„å ´åˆã¯ `handleFormSubmit` ã®é€”ä¸­ã« `console.log(entry)` ã‚„ `console.log(entries)` ã‚’æŒŸã¿ã€ã©ã“ã§æƒ³å®šã¨ã‚ºãƒ¬ãŸã®ã‹ã‚’æ¢ã—ã¾ã—ã‚‡ã†ã€‚

---

## ğŸŒ¸ 8.5 æ¬¡ã®ç« ã«å‘ã‘ã¦

ã“ã“ã¾ã§ã¯ã€Œä¿å­˜ã§ãã¦ã„ã‚‹ã‹ã€ã‚’ `console.log` ã§ç¢ºã‹ã‚ã‚‹æ®µéšã¾ã§ä»•ä¸Šã’ã¾ã—ãŸã€‚  
ç¬¬9ç« ã§ã¯ `renderEntryTable()` ã‚’å®Ÿè£…ã—ã€ä¿å­˜æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ†ãƒ¼ãƒ–ãƒ«ã«æç”»ã—ã¾ã™ã€‚

> ã„ã¾ã¯ç”»é¢ã«å¤‰åŒ–ãŒç„¡ãã¦ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚è£å´ã§ãƒ‡ãƒ¼ã‚¿ãŒç©ã¿é‡ãªã£ã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã‚Œã°ã€æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸é€²ã‚€æº–å‚™ã¯æ•´ã„ã¾ã—ãŸã€‚

---

## ğŸŒ¼ 8.6 é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ

- ãƒ•ã‚©ãƒ¼ãƒ è¦ç´ ã‚’ã¾ã¨ã‚ã¦å–å¾—ã—ã€ã©ã“ã‹ã‚‰ã§ã‚‚å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã€‚
- `handleFormSubmit` ã§ `localStorage` ã¸ã®ä¿å­˜ã¨ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒªã‚»ãƒƒãƒˆã‚’è¡Œã£ãŸã€‚
- ç”»é¢è¡¨ç¤ºã¯æ¬¡ç« ã«ä»»ã›ã€`console.log` ã§ä¿å­˜çµæœã‚’ç¢ºèªã™ã‚‹ã¨ã“ã‚ã¾ã§ã‚’ã‚¯ãƒªã‚¢ã—ãŸã€‚

---

## # **å…¨ä½“ã®JavaScriptã‚³ãƒ¼ãƒ‰**

```javascript
const WORKOUT_STORAGE_KEY = 'ichikaWorkoutLogEntries';

let entryFormElement;
let dateInputElement;
let typeInputElement;
let minutesInputElement;
let valueInputElement;
let noteInputElement;

function assignElementReferences() {
    entryFormElement = document.getElementById('entry-form');
    dateInputElement = document.getElementById('date');
    typeInputElement = document.getElementById('type');
    minutesInputElement = document.getElementById('minutes');
    valueInputElement = document.getElementById('value');
    noteInputElement = document.getElementById('note');
}

function attachEventListeners() {
    entryFormElement.addEventListener('submit', handleFormSubmit);
}

function generateEntryId() {
    return Date.now();
}

function getFormData() {
    const timestamp = generateEntryId();

    return {
        id: String(timestamp),
        date: dateInputElement.value,
        type: typeInputElement.value,
        minutes: parseInt(minutesInputElement.value, 10) || 0,
        value: parseInt(valueInputElement.value, 10) || 0,
        note: noteInputElement.value.trim(),
        createdAt: timestamp
    };
}

function loadEntriesFromStorage() {
    const rawData = localStorage.getItem(WORKOUT_STORAGE_KEY);
    return rawData ? JSON.parse(rawData) : [];
}

function saveEntriesToStorage(entries) {
    localStorage.setItem(WORKOUT_STORAGE_KEY, JSON.stringify(entries));
}

function handleFormSubmit(event) {
    event.preventDefault();

    const entry = getFormData();
    const entries = loadEntriesFromStorage();
    entries.push(entry);
    saveEntriesToStorage(entries);

    entryFormElement.reset();
    console.log('ä¿å­˜æ¸ˆã¿ã‚¨ãƒ³ãƒˆãƒª:', entries); // ç¬¬9ç« ã§ç”»é¢è¡¨ç¤ºã«ç½®ãæ›ãˆäºˆå®š
}

function initializePage() {
    assignElementReferences();
    attachEventListeners();
}

document.addEventListener('DOMContentLoaded', initializePage);
```

---

ã“ã“ã¾ã§ã®ã‚³ãƒ¼ãƒ‰ã‚’å‹•ã‹ã—ãªãŒã‚‰ã€ã€Œä¿å­˜ã§ãã¦ã„ã‚‹ã‹ã€ã‚’ Console ã§ç¢ºã‹ã‚ã‚‹ç·´ç¿’ã‚’ã—ã¦ã¿ã¦ãã ã•ã„ã€‚  
æ¬¡ç« ã§ã¯ã€ã“ã®ä¿å­˜æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ†ãƒ¼ãƒ–ãƒ«ã¸æç”»ã™ã‚‹ `renderEntryTable()` ã‚’ä¸€æ­©ãšã¤çµ„ã¿ç«‹ã¦ã¾ã™ã€‚
